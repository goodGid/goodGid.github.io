---
layout: post
title:  " 네트워크 주소의 대한 모든 것 "
categories: Network
tags: Network
author: goodGid
---
* content
{:toc}

## 공인 IP 

* 단어 그대로, 공인기관에서 인증한 **공개형(public) IP** 주소다. 

* 인터넷 유무선 공유기를 사용하지 않는 한 컴퓨터 등에서 사용하는 대부분의 IP 주소는 **공인 IP 주소**다. 

* 우편물로 치면 우체국에서 배달하는 **실제 주소**인 셈이다.











* 이 주소는 외부로 공개되어 누구라도 그 주소로 우편물을 보낼 수 있는 것처럼, 공인 IP 주소도 외부에 공개되어 있어 다른 컴퓨터 등에서 검색, 접근이 가능하다. 

* 예를 들어, 내 컴퓨터의 IP 주소가 100.100.100.100이라면 인터넷에 연결된 어떤 사용자(혹은 컴퓨터)는 이 IP 주소를 토대로 내 컴퓨터에 (1차) 접근이 가능하다.

* 따라서 공인 IP 주소를 사용하려면 **보안 장비(방화벽 등)**가 반드시 필요하다. 

* 다만 가정에서는 가입한 인터넷 서비스 회사(ISP, KT나 SK텔레콤 등)에서 보안 서비스를 제공하고 있기에 크게 걱정할 필요는 없다.

---

### IP Class 개념

* IP Class의 경우 A, B, C, D, E Class로 나누어 Network ID와 Host ID를 구분하게 된다. 

> A Class

* 처음 8bit(1byte)가 Network ID이며, 나머지 24bit(3byte)가 Host ID로 사용된다. 

* 비트가 0으로 시작하기에 네트워크 할당은 0~127이다. 

* 즉 128곳에 가능하며 최대 호스트 수는 16,777,214개이다. 

> B Class

* 처음 16bit(2byte)가 Network ID이며, 나머지 16bit(2byte)가 Host ID로 사용된다. 

* 비트가 10으로 시작하기에 네트워크 할당은 16,384곳에 가능하며 최대 호스트 수는 65,534개이다. 

> C Class

* 처음 24bit(3byte)가 Network ID이며, 나머지 8bit(1byte)가 Host ID로 사용된다. 

* 비트가 110으로 시작하기에 네트워크 할당은 2,097,152 곳에 가능하며, 최대 호스트 수는 254개이다.

![](/assets/img/network/network_address_3.png)


> D Class와 E Class

* 실제 Network에서 사용되는 Class는 A, B, C Class이며, D Class는 Multicast(멀티캐스트), E Class는 미래에 사용하기 위해 남겨둔 것으로 예약되어 있다. 

* 실질적으로 D와 E Class의 경우 사용되는 경우는 거의 없다.

```
A Class : 0 ~ 127 (0.0.0.0 ~ 127.255.255.255)
B Class : 128 ~ 191 (128.0.0.0 ~ 191.255.255.255)
C Class : 192 ~ 223 (192.0.0.0 ~ 233.255.255.255)
D Class : 224 ~ 239 (224.0.0.0 ~ 239.255.255.255)
E Class : 240 ~ 255 (240.0.0.0. ~ 255.255.255.255)
```

* 특징을 살펴보면 **주소체계 범위의 각 클래스 시작이 짝수이고 끝이 홀수**라는 것과 <br> **범위가 반으로 나누어지게 된다는 것(n / 2)**이다.


1. IP에 입력하는 범위가 256개가 존재한다 (0 ~ 255)

2. 256부터 2씩 나눈다.

3. 256 / 2 = 128 - 1 = 127 (A Class 범위 : 0 ~ 127)

4. 128 / 2 = 64 + 127 = 191 (B Class 범위 : 128 ~ 191)

5. 64 / 2 = 32 + 191 = 223 (C Class 범위 : 192 ~ 223)

6. 남은 32의 수는 16씩 나누어서 D Class와 E Class가 가진다.



---


## 사설 IP

* 공인 IP 주소가 공개형이라면 사설(private) IP 주소는 폐쇄형이다. 

* 공인되지 않은 IP 주소라는 의미 때문이다. 

* 즉, 이 사설 IP 주소는 외부에 공개되지 않아 외부에서 검색, 접근이 근본적으로 불가능하다. 

* **사설 IP 주소**는 **주소 대역**이 **3개**로 고정되어 있다. 

* 이를테면, **192.168.xxx.xxx**와 **172.10.xxx.xxx**, 그리고 **10.xxx.xxx.xxx** 대역이다. 

* 이러한 사설 IP 주소는 인터넷 유무선 공유기를 사용할 때 흔히 접하게 되는데, <br> **하나의 공인 IP 주소**를 **공유**하여 여러 대의 컴퓨터가 인터넷에 접속하게 하려면 사설 IP 주소가 필요하기 때문이다.

* 예를 들어, 그 동안 컴퓨터 한 대를 100.100.100.100라는 공인 IP 주소로 설정해 인터넷에 접속하다가 <br> 유무선 인터넷 공유기를 설치해 연결했다면, 이후로는 공유기 IP 주소가 100.100.100.100이 되고 <br> 공유기에 연결된 해당 컴퓨터에는 192.168.0.10 등과 같은 사설 IP 주소가 할당된다. 

* 이러한 사설 IP 주소를 **사용**하는 **이유**는 **두 가지**다. 

* 하나는 위에서 언급한 대로 **IP 주소**를 **공유**하기 위함이다. 

* 이는 IPv4 체계의 **IP 주소 부족 문제**를 해결할 수 있는 방안이기도 하다.

```
A class 1개 : 10.0.0.0 - 10.255.255.255 (8 bit prefix)
B class 16개 : 172.16.0.0 - 172.31.255.255 (12 bit prefix)
C class 256개 : 192.168.0.0 - 192.168.255.255 (16 bit prefix)   
```

---

## 네트워크 주소와 브로드캐스트 주소 구하기

* IP주소와 서브넷마스크(Subnet Mask)를 알고 있을 경우 네트워크 주소와 브로드캐스트 주소를 구할 수 있다.

* IP주소는 각각의 컴퓨터에 네트워크 관리자에의해 고정 or DHCP가 유동으로 부여해준다.

* 서브넷마스크는 네트워크를 구성할때, IP를 몇 개를 하나의 단위로 묶는가에 대한 32비트 값이다.

* 네트워크 주소는 해당 서브넷의 시작주소

* 브로드캐스트 주소는 해당 서브넷의 마지막 주소로 보면 된다.

* 예시를 통해 이해하도록 하자.


![](/assets/img/network/network_address_1.png)

![](/assets/img/network/network_address_2.png)

---

## 요약 및 예제

> Q. 192.168.51.111/20이라는 IP가 소속되어 있는 네트워크가 있다.

1. 192.168.60.211은 같은 네트워크에 소속되어 있지 않다.

2. 192.168.63.255로 IP를 할당 할 수 있다.

3. 192.168.51.111/20의 네트워크 마스크는 255.255.255.0이다.

4. 192.168.48.1은 해당 네트워크의 게이트웨이가 될 수 있다.

5. 해당 네트워크의 주소는 192.168.48.0이다.


<br>

<br>

<br>

<br>

<br>

<br>

* 1번 (X) : 사설 IP임을 눈치채야하고 C class에 속하기 때문에 같은 네트워크에 속한다고 볼 수 있다.

```
C class 256개 : 192.168.0.0 - 192.168.255.255 (16 bit prefix)
```

* 2번 (X) : 해당 네트워크의 브로드캐스트 주소이므로 할당 할 수 없다. <small>[브로드캐스트 구하는 방법]({{site.url}}/Network-Address/#네트워크-주소와-브로드캐스트-주소-구하기)</small>

* 3번 (X) : 255.255.240.0(= 11111111. 11111111. 11110000. 00000000)이다.

* 4번 (O) : 네트워크 주소와 브로드캐스트 주소를 제외한 나머지 IP는 게이트웨이로 가능하다.

* 5번 (O) : 보통 네트워크 주소의 4번째 자리를 1로 준다.

* [IP Calculator](http://jodies.de/ipcalc)를 이용하면 다음과 같이 다양한 네트워크 정보를 계산 할 수 있다.

```
Address:   192.168.51.111        11000000.10101000.0011 0011.01101111
Netmask:   255.255.240.0 = 20    11111111.11111111.1111 0000.00000000
Wildcard:  0.0.15.255            00000000.00000000.0000 1111.11111111
=>
Network:   192.168.48.0/20       11000000.10101000.0011 0000.00000000 (Class C)
Broadcast: 192.168.63.255        11000000.10101000.0011 1111.11111111
HostMin:   192.168.48.1          11000000.10101000.0011 0000.00000001
HostMax:   192.168.63.254        11000000.10101000.0011 1111.11111110
Hosts/Net: 4094                  (Private Internet)
```


---

## 참고

* [공인 IP와 사설 IP](http://egloos.zum.com/xxwony/v/73126)

* [IP주소, 서브넷마스크, 네트워크주소, 그리고 브로드캐스트주소](http://unabated.tistory.com/entry/IP%EC%A3%BC%EC%86%8C-%EC%84%9C%EB%B8%8C%EB%84%B7%EB%A7%88%EC%8A%A4%ED%81%AC-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%EC%A3%BC%EC%86%8C-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EB%B8%8C%EB%A1%9C%EB%93%9C%EC%BA%90%EC%8A%A4%ED%8A%B8%EC%A3%BC%EC%86%8C-%EC%B6%9C%EC%B2%98-IP%EC%A3%BC%EC%86%8C-%EC%84%9C%EB%B8%8C%EB%84%B7%EB%A7%88%EC%8A%A4%ED%81%AC-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%EC%A3%BC%EC%86%8C-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EB%B8%8C%EB%A1%9C%EB%93%9C%EC%BA%90%EC%8A%A4%ED%8A%B8%EC%A3%BC%EC%86%8C%EC%9E%91%EC%84%B1%EC%9E%90-%ED%95%B4%EC%9D%B8%EC%82%BC%EB%A7%A4)

* [IP 주소체계와 클래스 구별법 (IPV4)](http://korean-daeddo.blogspot.com/2015/12/ip.html)
